const sliderWrapper = document.querySelector('.slider-product-wrapper');
const sliderContainer = document.querySelector('.slider-product-container');
const bgmSection = document.querySelector('.bgm');

let isDragging = false;
let startX;
let scrollLeft;

// Mouse Down Event
sliderWrapper.addEventListener('mousedown', (e) => {
    e.preventDefault(); // Prevent default behavior
    isDragging = true;
    sliderContainer.classList.add('dragging');
    bgmSection.classList.add('fade-text'); // Add fade-text class
    startX = e.pageX - sliderWrapper.offsetLeft;
    scrollLeft = sliderContainer.scrollLeft; // Corrected: Use sliderContainer
});

// Mouse Move Event
sliderWrapper.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    e.preventDefault(); // Prevent default behavior
    const x = e.pageX - sliderWrapper.offsetLeft;
    const walk = (x - startX) * 2; // Adjust the multiplier for sensitivity
    sliderContainer.scrollLeft = scrollLeft - walk; // Corrected: Use sliderContainer
});

// Mouse Up Event
sliderWrapper.addEventListener('mouseup', () => {
    isDragging = false;
    sliderContainer.classList.remove('dragging');
    bgmSection.classList.remove('fade-text'); // Remove fade-text class
});

// Mouse Leave Event
sliderWrapper.addEventListener('mouseleave', () => {
    isDragging = false;
    sliderContainer.classList.remove('dragging');
    bgmSection.classList.remove('fade-text'); // Remove fade-text class
});

// Touch Start Event
sliderWrapper.addEventListener('touchstart', (e) => {
    isDragging = true;
    sliderContainer.classList.add('dragging');
    bgmSection.classList.add('fade-text'); // Add fade-text class
    startX = e.touches[0].pageX - sliderWrapper.offsetLeft;
    scrollLeft = sliderContainer.scrollLeft; // Corrected: Use sliderContainer
});

// Touch Move Event
sliderWrapper.addEventListener('touchmove', (e) => {
    if (!isDragging) return;
    const x = e.touches[0].pageX - sliderWrapper.offsetLeft;
    const walk = (x - startX) * 2; // Adjust the multiplier for sensitivity
    sliderContainer.scrollLeft = scrollLeft - walk; // Corrected: Use sliderContainer
});

// Touch End Event
sliderWrapper.addEventListener('touchend', () => {
    isDragging = false;
    sliderContainer.classList.remove('dragging');
    bgmSection.classList.remove('fade-text'); // Remove fade-text class
});